% Add seminar solution
%   seminar             -
%   volume              -
%   semester            -
%   round               -
%   problem             - all five identify the file to include
%   title               the title of the problem
%   authors             formatted list of authors
%   evaluator           formatted list of evaluators
%   genderSuffix        gender suffix (opravoval(|a|i|o)
\NewDocumentCommand{\addSeminarSolution}{m m m m m m m m m}{%
    \setcounter{round}{#4}%
    \setcounter{problem}{#5}%
    \RenewDocumentCommand{\problemDirectory}{}{\rootDirectory/#1/#2/#3/#4/#5}
    \createSolutionHeader{#6}{#7}{#8}{#9}
    \protectedInput{\rootDirectory/#1/#2/#3/#4/#5/solution.tex}%
}

% \createSolutionHeader[name][author][evaluator][gender]
% Vytvorí novú hlavičku vzorového riešenia
%   - názov úlohy
%   - meno autora vzorového riešenia
%   - meno opravovateľa
%   - gramatický rod opravovateľa
\NewDocumentCommand{\createSolutionHeader}{m m m m}{
    \subsection{%
        \texorpdfstring{%
            \large \textbf{\ifstrempty{#1}{úloha}{#1}}%
            \hfill\normalsize%
            \ifstrempty{#2}{%
                \ifstrempty{#3}{}{opravoval#4 #3}%
            }{%
                vzorák #2\ifstrempty{#3}{}{, opravoval#4 #3}%
            }%
        }{%
            #1
        }%
    }
}

% fancyhdr -- fancy pagestyle
\fancypagestyle{main}{
    \fancyhead[LO,RE]{\raisebox{\smallLogoRaise}{\includegraphics[keepaspectratio = true, height = 6mm]{modules/seminar/styles/(* seminar.id *)/logo/logo.pdf}}}
    \fancyhead[LE,RO]{(* seminar.fullName *)}
    \fancyfoot[LO,RE]{\href{mailto:(* seminar.email *)}{\texttt{(* seminar.email *)}}}
    \fancyfoot[C]{\small \thepage}
    \fancyfoot[LE,RO]{\URL{(* seminar.URL *)}}
}

\fancypagestyle{problems}{%
    \pagestyle{main}
    \fancyhead[LE,RO]{\textit{Zadania (* round.number *). kola (* semester.genitive *) časti -- (* round.deadline.strftime('%d. %m. %Y') *)}}
    \titleformat{\subsection}[hang]{\large}{\bfseries\arabic{round}.\arabic{problem}}{6pt}{}[]
}

\fancypagestyle{solutions}{%
    \pagestyle{main}
    \fancyhead[LE,RO]{\textit{Riešenia (* round.number *). kola (* semester.genitive *) časti}}
    \titleformat{\subsection}[hang]{\large}{\bfseries\arabic{round}.\arabic{problem}}{6pt}{}[]
}

\fancypagestyle{rules}{%
    \pagestyle{main}
    \fancyhead[LE,RO]{\textit{Pravidlá}}
}
    
\fancypagestyle{first}{%
    \fancyhf{}
    \fancyhead[L]{    
        \begin{minipage}{0.15\textwidth}
            \flushleft
            \includegraphics[height = 20mm]{core/logo/trojsten/large.pdf}\\[0pt]
            \vspace{16pt}
        \end{minipage}
    }
    
    \fancyhead[C]{
        \begin{minipage}{0.7\textwidth}
            \centering
            \vspace{4pt}
            {\Large (* seminar.fullName *)}\\[4pt]
            {\large (* volume.number|roman *). ročník, (* volume.number + seminar.founded *)/(* volume.number + seminar.founded + 1 *)}\\[8pt]            
            {\footnotesize (* seminar.shortName *), (* seminar.departmentShort *), (* seminar.fullAddress *)}\\[2pt]
            \vspace{6pt}
        \end{minipage}        
    }           

    \fancyhead[R]{
        \begin{minipage}{0.2\textwidth}
            \flushright
            \includegraphics[width = 30mm, keepaspectratio = true]{modules/seminar/styles/(* seminar.id *)/logo/logo.pdf}\\[0pt]
            \vspace{4pt}
        \end{minipage}
    }
    \fancyfoot[LO,RE]{\href{mailto:(* seminar.email *)}{\texttt{(* seminar.email *)}}}
    \fancyfoot[C]{\small \thepage}
    \fancyfoot[LE,RO]{\URL{(* seminar.URL *)}}
}  

\NewDocumentCommand{\problemDirectory}{}{<undefined>}
