\RenewDocumentCommand{\vec}{m}{\mathbf{#1}}
%\RenewDocumentCommand{\vec}{m}{\vv{#1}}

\DeclareMathOperator{\diff}{d\!}
\DeclareMathOperator{\pdiff}{\partial\!}
\DeclareMathOperator{\fdiff}{\Delta\!}
\DeclareMathOperator{\del}{\raisebox{0.06em}{\ensuremath{\vec{\nabla}}}}
\DeclareMathOperator{\Div}{\del\cdot}
\DeclareMathOperator{\Rot}{\del\times}

\NewDocumentCommand{\Derivative}{m m}{\frac{\diff#1}{\diff#2}}
\NewDocumentCommand{\DerivativeE}{m}{\frac{\diff}{\diff#1}}
\NewDocumentCommand{\DerivativeParen}{m m}{\frac{\diff}{\diff#1}\left(#2\right)}
\NewDocumentCommand{\DerivativeN}{m m m}{\frac{\diff^{\,#1}\!#2}{\diff#3}}
\NewDocumentCommand{\DerivativeEval}{m m m}{\left.\frac{\diff#1}{\diff#2}\right|_{#2 = #3}}
\NewDocumentCommand{\DerivativeNEval}{m m m m}{\left.\frac{\diff^{\,#1}\!#2}{\diff#3}\right|_{#3 = #4}}

\NewDocumentCommand{\PDerivative}{O{} m m}{\frac{\partial^{#1}#2}{\partial #3^{#1}}}
\NewDocumentCommand{\PDerivativeParen}{m m}{\frac{\partial}{\partial#1}\left(#2\right)}

\NewDocumentCommand{\EvalAt}{m m}{\left.#1\right|_{#2}}

\NewDocumentCommand{\Int}{O{} O{} m m}{\kern -0.2em \int\limits_{#1}^{#2} #3\diff#4}
\NewDocumentCommand{\Intx}{O{} O{} m}{\kern -0.2em \int\limits_{#1}^{#2} #3}
\NewDocumentCommand{\OInt}{O{} O{} m m}{\oint\limits_{#1}^{#2}\!#3\diff#4}
\NewDocumentCommand{\IInt}{O{} O{} m m m}{\iint\limits_{#1}^{\quad#2} #3 \diff#4\diff#5}
\NewDocumentCommand{\OIInt}{O{} O{} m m}{\oiint\limits_{#1}^{\quad#2} #3 \diff#4}
\NewDocumentCommand{\IIInt}{O{} O{} m m m m}{\iiint\limits_{#1}^{#2} #3 \diff#4\diff#5\diff#6}

\NewDocumentCommand{\Lim}{m m}{\lim\limits_{#1 \rightarrow #2}}
\NewDocumentCommand{\Exp}{m}{\mathrm{e}^{#1}}
\NewDocumentCommand{\LogTen}{}{\log_{10}}
\NewDocumentCommand{\MustEqual}{}{\overset{!}{=}}
\NewDocumentCommand{\DefEqual}{}{\overset{\mathrm{def}}{=}}
\NewDocumentCommand{\Implies}{}{\quad\Rightarrow\quad}

\NewDocumentCommand{\Nuclide}{O{} O{} m}{\ce{^{#1}_{#2}#3}}

\NewDocumentCommand{\Sum}{O{} O{} m}{\sum\limits_{#1}^{#2} #3}
\NewDocumentCommand{\Product}{O{} O{} m}{\prod\limits_{#1}^{#2} #3}
\NewDocumentCommand{\Abs}{m}{\left|#1\right|}
\RenewDocumentCommand{\Hat}{m}{#1\kern-0.1em\hat{\phantom{#1}}}

\NewDocumentCommand{\Angle}{}{\text{\AngleSign}}
