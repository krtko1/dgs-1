% package titlesec -- formatting of section headers
%\titleformat{\subsection}[runin / hang]{format whole}{label}{separation}{before}[after]
\NewDocumentCommand{\loadRegularStyle}{}{	
	\pagestyle{problems}
    \renewcommand{\headrulewidth}{0.4pt}
    \renewcommand{\footrulewidth}{0.4pt}
    
    \titleformat{\section}[hang]{\vspace*{-5mm}\centering\huge}{}{0pt}{}
	\titleformat{\subsection}[hang]{\bfseries}{}{0pt}{}[]
	\titleformat{\subsubsection}[hang]{\bfseries}{}{0pt}{}[]
    \titlespacing*{\section}{0pt}{0pt}{12pt}
	\titlespacing*{\subsection}{0pt}{8pt}{10pt}
	\titlespacing*{\subsubsection}{0pt}{8pt}{0pt}
}

\NewDocumentCommand{\loadIntroStyle}{}{
    \loadTearoffStyle
	\titleformat{\subsection}[hang]{\bfseries}{}{0pt}{}[]
}

\NewDocumentCommand{\loadBookletStyle}{}{
    \loadRegularStyle
    \titleformat{\subsection}[runin]{\bfseries}{}{0pt}{\setlength{\fboxsep}{3pt}\framebox[7mm]}[\setlength{\fboxsep}{0pt}]
}

\NewDocumentCommand{\loadTearoffStyle}{}{
    \loadBookletStyle
    \pagestyle{empty}
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}
}

% paragraph settings -- formatting paragraphs and list environments
\linespread{1.0}
\setlength{\parindent}{0cm}
\setlength{\parskip}{6pt}
\setlength{\fboxsep}{0mm}
\setlength{\abovedisplayskip}{0pt plus 2pt minus 2pt}
\setlength{\belowdisplayskip}{-6pt plus 2pt minus 2pt}
\setlength{\abovedisplayshortskip}{0pt plus 2pt minus 2pt}
\setlength{\belowdisplayshortskip}{0pt plus 2pt minus 2pt}
\setlength{\itemindent}{0pt}
\setlength{\textfloatsep}{0mm}
\setlength{\LTcapwidth}{0.8\textwidth}

\setlist[description]{
    style           = multiline,
    labelindent     =   8mm,
    leftmargin      =  28mm,
    itemsep         =   0mm    
}
\setlist[enumerate]{
    topsep			=	0mm,
    itemsep         =   0mm,
}
\setlist[itemize]{
    topsep			=   0mm,
    itemsep         =   0mm,
}

\renewcommand{\arraystretch}{1.4}
\renewcommand{\textfloatsep}{3mm}
\numberwithin{equation}{subsection}
\renewcommand{\theequation}{\arabic{equation}}

% fancyhdr -- fancy pagestyle
\fancypagestyle{empty}{
    \fancyhf{}
}

\fancypagestyle{main}{
    \fancyhead[LO,RE]{\raisebox{\smallLogoRaise}{\includegraphics[keepaspectratio = true, height = 6mm]{core/logo/\seminarID/mini.pdf}}}
    \fancyhead[C]{\textit{\currentVolume. Fyzikálny Náboj, \currentYear}}
    \fancyfoot[LO,RE]{\href{mailto:\seminarEmail}{\texttt{\seminarEmail}}}
    \fancyfoot[C]{\small \thepage}
    \fancyfoot[LE,RO]{\href{\seminarURL}{\texttt{\seminarURL}}}
}

\fancypagestyle{problems}{%
    \pagestyle{main}
    \RenewDocumentCommand{\sectionmark}{m}{\markright{##1}}
    \RenewDocumentCommand{\subsectionmark}{m}{}
    \fancyhead[LE,RO]{\textit{\rightmark}}
}

\fancypagestyle{answers}{%
	\pagestyle{main}
	\fancyhead[LE,RO]{\textit{\thesection}}
}
    
\fancypagestyle{first}{%
    \fancyhf{}
    \fancyhead[L]{    
        \begin{minipage}{0.15\textwidth}
            \flushleft
            \includegraphics[height = 20mm]{core/logo/trojsten/large.pdf}\\[0pt]
            \vspace{2pt}
        \end{minipage}
    }
    
    \fancyhead[C]{
        \begin{minipage}{0.7\textwidth}
            \centering
            \vspace{4pt}
            {\Large \seminarFull}\\[4pt]
            {\large \romanNumeral{\currentVolume}. ročník, \currentAcademicYear}\\[8pt]            
            {\footnotesize \seminarShort,\ \seminarDepartmentShort\ FMFI~UK,
				Mlynská dolina, 842~48 Bratislava}\\[2pt]
            \vspace{6pt}
        \end{minipage}        
    }           

    \fancyhead[R]{
        \begin{minipage}{0.2\textwidth}
            \flushright
            \includegraphics[width = 0.7\linewidth, keepaspectratio = true]{core/logo/\seminarID/large.pdf}\\[0pt]
        \end{minipage}
    }
	\fancyfoot[LO,RE]{\href{mailto:\seminarEmail}{\texttt{\seminarEmail}}}
    \fancyfoot[C]{\small \thepage}
    \fancyfoot[LE,RO]{\URL{\seminarURL}}
}    
